{
    "Key":  "components/controls/collectionview/selection",
    "Summary":  "Support single/multiple selection and react via OnSelectionChanged or typed OnSelected<T>.",
    "Remarks":  "Set SelectionMode (None, Single, Multiple). Handle selection using OnSelectionChanged(sender, args) to inspect previous/current selections, or use the typed OnSelected<CollectionView, T>(callback) for single-item selection with a strongly-typed model. Maintain selection-driven UI (e.g., badges, detail panes) by updating component state.",
    "Example":  "class MainPageSelectionState\r\n{\r\n    public Person[] Persons { get; set; }\r\n\r\n    public ObservableCollection\u003cstring\u003e EventMessages = new();\r\n\r\n    public MauiControls.SelectionMode SelectionMode { get; set; }\r\n}\r\n\r\nclass MainPageSelection : Component\u003cMainPageSelectionState\u003e\r\n{\r\n    protected override void OnMounted()\r\n    {\r\n        var person1 = new Person(\"John\", \"Doe\", new DateTime(1980, 5, 10));\r\n        var person2 = new Person(\"Jane\", \"Smith\", new DateTime(1990, 6, 20));\r\n        var person3 = new Person(\"Alice\", \"Johnson\", new DateTime(1985, 7, 30));\r\n        var person4 = new Person(\"Bob\", \"Williams\", new DateTime(2000, 8, 15));\r\n        var person5 = new Person(\"Charlie\", \"Brown\", new DateTime(1995, 9, 25));\r\n\r\n        State.Persons = new [] { person1, person2, person3, person4, person5 };\r\n        base.OnMounted();\r\n    }\r\n\r\n    public override VisualNode Render()\r\n    {\r\n        return new ContentPage\r\n        {\r\n            new Grid(\"Auto,*,*\", \"*\")\r\n            {\r\n                new Picker()\r\n                    .ItemsSource(Enum.GetValues\u003cMauiControls.SelectionMode\u003e().Select(_=\u003e_.ToString()).ToList())\r\n                    .SelectedIndex((int)State.SelectionMode)\r\n                    .OnSelectedIndexChanged(index =\u003e SetState(s =\u003e s.SelectionMode = (MauiControls.SelectionMode)index)),\r\n\r\n                new CollectionView()\r\n                    .ItemsSource(State.Persons, RenderPerson)\r\n                    .SelectionMode(State.SelectionMode)\r\n                    //use either the OnSelectionChanged callback or OnSelected\u003cCollectionView, Person\u003e\r\n                    .OnSelectionChanged(OnSelectionChanged)\r\n                    //.OnSelected\u003cCollectionView, Person\u003e(OnSelectedSinglePerson)\r\n                    .GridRow(1),\r\n\r\n                new CollectionView()\r\n                    .ItemsSource(State.EventMessages, message =\u003e new Label(message).Margin(4,8))\r\n                    .GridRow(2),\r\n            }\r\n        };\r\n    }\r\n\r\n    private void OnSelectedSinglePerson(Person person)\r\n    {\r\n        State.EventMessages.Add($\"Selected: {person}\");\r\n    }\r\n\r\n    private void OnSelectionChanged(object sender, MauiControls.SelectionChangedEventArgs args)\r\n    {\r\n        State.EventMessages.Add($\"Previous selection: {string.Join(\",\", args.PreviousSelection)}\");\r\n        State.EventMessages.Add($\"Current selection: {string.Join(\",\", args.CurrentSelection)}\");\r\n    }\r\n\r\n    private VisualNode RenderPerson(Person person)\r\n    {\r\n        return new VStack(spacing: 5)\r\n        {\r\n            new Label($\"{person.FirstName} {person.LastName}\"),\r\n            new Label(person.DateOfBirth.ToShortDateString())\r\n                .FontSize(12)\r\n                .TextColor(Colors.Gray)\r\n        }\r\n        .Margin(5,10);\r\n    }\r\n}\r\n\r"
}
