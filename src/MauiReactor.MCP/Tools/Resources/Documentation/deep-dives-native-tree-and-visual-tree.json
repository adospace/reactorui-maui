{
    "Key":  "deep-dives/native-tree-and-visual-tree",
    "Summary":  "VisualNode tree vs native view tree and how reconciliation works.",
    "Remarks":  "Components produce a Visual tree of nodes that MauiReactor diffs and reconciles into the native .NET MAUI view hierarchy. Keys and component boundaries guide updates to minimize re-creation. Keep Render() pure and drive changes through state/props so the diffing algorithm efficiently updates the native tree.",
    "Example":  "class TreePageState\r\n{\r\n    public int Count { get; set; }\r\n    public string[] Items { get; set; } = new[] { \"A\", \"B\", \"C\" };\r\n}\r\n\r\nclass TreePage : Component<TreePageState>\r\n{\r\n    public override VisualNode Render()\r\n        => new ContentPage\r\n        {\r\n            new VStack(8)\r\n            {\r\n                new Label($\"Count: {State.Count}\").WithKey(\"counterLabel\"),\r\n                new Button(\"Increment\")\r\n                    .OnClicked(() => SetState(s => s.Count++)),\r\n\r\n                new HStack(8)\r\n                {\r\n                    State.Items.Select(i => (VisualNode)new Label(i).WithKey(i)).ToArray()\r\n                },\r\n\r\n                new Button(\"Reverse\")\r\n                    .OnClicked(() => SetState(s => s.Items = s.Items.Reverse().ToArray()))\r\n            }\r\n            .Padding(12)\r\n        };\r\n}\r"
}
