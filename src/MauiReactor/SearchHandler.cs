// <auto-generated />
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Reflection;
using MauiReactor.Animations;
using MauiReactor.Shapes;
using MauiReactor.Internals;

#nullable enable
namespace MauiReactor;
public partial interface ISearchHandler : IVisualNodeWithNativeControl
{
    EventCommand<EventArgs>? FocusedEvent { get; set; }

    EventCommand<EventArgs>? UnfocusedEvent { get; set; }
}

public partial class SearchHandler<T> : VisualNode<T>, ISearchHandler where T : Microsoft.Maui.Controls.SearchHandler, new()
{
    public SearchHandler(Action<T?>? componentRefAction = null) : base(componentRefAction)
    {
        SearchHandlerStyles.Default?.Invoke(this);
    }

    EventCommand<EventArgs>? ISearchHandler.FocusedEvent { get; set; }

    EventCommand<EventArgs>? ISearchHandler.UnfocusedEvent { get; set; }

    partial void OnBeginAnimate();
    partial void OnEndAnimate();
    protected override void OnThemeChanged()
    {
        if (ThemeKey != null && SearchHandlerStyles.Themes.TryGetValue(ThemeKey, out var styleAction))
        {
            styleAction(this);
        }

        base.OnThemeChanged();
    }

    partial void OnAttachingNativeEvents();
    partial void OnDetachingNativeEvents();
    private EventCommand<EventArgs>? _executingFocusedEvent;
    private EventCommand<EventArgs>? _executingUnfocusedEvent;
    protected override void OnAttachNativeEvents()
    {
        Validate.EnsureNotNull(NativeControl);
        var thisAsISearchHandler = (ISearchHandler)this;
        if (thisAsISearchHandler.FocusedEvent != null)
        {
            NativeControl.Focused += NativeControl_Focused;
        }

        if (thisAsISearchHandler.UnfocusedEvent != null)
        {
            NativeControl.Unfocused += NativeControl_Unfocused;
        }

        OnAttachingNativeEvents();
        base.OnAttachNativeEvents();
    }

    private void NativeControl_Focused(object? sender, EventArgs e)
    {
        var thisAsISearchHandler = (ISearchHandler)this;
        if (_executingFocusedEvent == null || _executingFocusedEvent.IsCompleted)
        {
            _executingFocusedEvent = thisAsISearchHandler.FocusedEvent;
            _executingFocusedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_Unfocused(object? sender, EventArgs e)
    {
        var thisAsISearchHandler = (ISearchHandler)this;
        if (_executingUnfocusedEvent == null || _executingUnfocusedEvent.IsCompleted)
        {
            _executingUnfocusedEvent = thisAsISearchHandler.UnfocusedEvent;
            _executingUnfocusedEvent?.Execute(sender, e);
        }
    }

    protected override void OnDetachNativeEvents()
    {
        if (NativeControl != null)
        {
            NativeControl.Focused -= NativeControl_Focused;
            NativeControl.Unfocused -= NativeControl_Unfocused;
        }

        OnDetachingNativeEvents();
        base.OnDetachNativeEvents();
    }

    partial void Migrated(VisualNode newNode);
    protected override void OnMigrated(VisualNode newNode)
    {
        if (newNode is SearchHandler<T> @searchhandler)
        {
            if (_executingFocusedEvent != null && !_executingFocusedEvent.IsCompleted)
            {
                @searchhandler._executingFocusedEvent = _executingFocusedEvent;
            }

            if (_executingUnfocusedEvent != null && !_executingUnfocusedEvent.IsCompleted)
            {
                @searchhandler._executingUnfocusedEvent = _executingUnfocusedEvent;
            }
        }

        Migrated(newNode);
        base.OnMigrated(newNode);
    }
}

public partial class SearchHandler : SearchHandler<Microsoft.Maui.Controls.SearchHandler>
{
    public SearchHandler(Action<Microsoft.Maui.Controls.SearchHandler?>? componentRefAction = null) : base(componentRefAction)
    {
    }
}

public static partial class SearchHandlerExtensions
{
    public static T Keyboard<T>(this T searchHandler, Microsoft.Maui.Keyboard keyboard)
        where T : ISearchHandler
    {
        //searchHandler.Keyboard = keyboard;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.KeyboardProperty, keyboard);
        return searchHandler;
    }

    public static T Keyboard<T>(this T searchHandler, Func<Microsoft.Maui.Keyboard> keyboardFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.KeyboardProperty, new PropertyValue<Microsoft.Maui.Keyboard>(keyboardFunc, componentWithState));
        return searchHandler;
    }

    public static T HorizontalTextAlignment<T>(this T searchHandler, Microsoft.Maui.TextAlignment horizontalTextAlignment)
        where T : ISearchHandler
    {
        //searchHandler.HorizontalTextAlignment = horizontalTextAlignment;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.HorizontalTextAlignmentProperty, horizontalTextAlignment);
        return searchHandler;
    }

    public static T HorizontalTextAlignment<T>(this T searchHandler, Func<Microsoft.Maui.TextAlignment> horizontalTextAlignmentFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.HorizontalTextAlignmentProperty, new PropertyValue<Microsoft.Maui.TextAlignment>(horizontalTextAlignmentFunc, componentWithState));
        return searchHandler;
    }

    public static T VerticalTextAlignment<T>(this T searchHandler, Microsoft.Maui.TextAlignment verticalTextAlignment)
        where T : ISearchHandler
    {
        //searchHandler.VerticalTextAlignment = verticalTextAlignment;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.VerticalTextAlignmentProperty, verticalTextAlignment);
        return searchHandler;
    }

    public static T VerticalTextAlignment<T>(this T searchHandler, Func<Microsoft.Maui.TextAlignment> verticalTextAlignmentFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.VerticalTextAlignmentProperty, new PropertyValue<Microsoft.Maui.TextAlignment>(verticalTextAlignmentFunc, componentWithState));
        return searchHandler;
    }

    public static T TextColor<T>(this T searchHandler, Microsoft.Maui.Graphics.Color textColor)
        where T : ISearchHandler
    {
        //searchHandler.TextColor = textColor;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.TextColorProperty, textColor);
        return searchHandler;
    }

    public static T TextColor<T>(this T searchHandler, Func<Microsoft.Maui.Graphics.Color> textColorFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.TextColorProperty, new PropertyValue<Microsoft.Maui.Graphics.Color>(textColorFunc, componentWithState));
        return searchHandler;
    }

    public static T CharacterSpacing<T>(this T searchHandler, double characterSpacing, RxDoubleAnimation? customAnimation = null)
        where T : ISearchHandler
    {
        //searchHandler.CharacterSpacing = characterSpacing;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.CharacterSpacingProperty, characterSpacing);
        searchHandler.AppendAnimatable(Microsoft.Maui.Controls.SearchHandler.CharacterSpacingProperty, customAnimation ?? new RxDoubleAnimation(characterSpacing));
        return searchHandler;
    }

    public static T CharacterSpacing<T>(this T searchHandler, Func<double> characterSpacingFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.CharacterSpacingProperty, new PropertyValue<double>(characterSpacingFunc, componentWithState));
        return searchHandler;
    }

    public static T CancelButtonColor<T>(this T searchHandler, Microsoft.Maui.Graphics.Color cancelButtonColor)
        where T : ISearchHandler
    {
        //searchHandler.CancelButtonColor = cancelButtonColor;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.CancelButtonColorProperty, cancelButtonColor);
        return searchHandler;
    }

    public static T CancelButtonColor<T>(this T searchHandler, Func<Microsoft.Maui.Graphics.Color> cancelButtonColorFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.CancelButtonColorProperty, new PropertyValue<Microsoft.Maui.Graphics.Color>(cancelButtonColorFunc, componentWithState));
        return searchHandler;
    }

    public static T FontFamily<T>(this T searchHandler, string fontFamily)
        where T : ISearchHandler
    {
        //searchHandler.FontFamily = fontFamily;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontFamilyProperty, fontFamily);
        return searchHandler;
    }

    public static T FontFamily<T>(this T searchHandler, Func<string> fontFamilyFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontFamilyProperty, new PropertyValue<string>(fontFamilyFunc, componentWithState));
        return searchHandler;
    }

    public static T FontSize<T>(this T searchHandler, double fontSize, RxDoubleAnimation? customAnimation = null)
        where T : ISearchHandler
    {
        //searchHandler.FontSize = fontSize;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontSizeProperty, fontSize);
        searchHandler.AppendAnimatable(Microsoft.Maui.Controls.SearchHandler.FontSizeProperty, customAnimation ?? new RxDoubleAnimation(fontSize));
        return searchHandler;
    }

    public static T FontSize<T>(this T searchHandler, Func<double> fontSizeFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontSizeProperty, new PropertyValue<double>(fontSizeFunc, componentWithState));
        return searchHandler;
    }

    public static T FontAttributes<T>(this T searchHandler, Microsoft.Maui.Controls.FontAttributes fontAttributes)
        where T : ISearchHandler
    {
        //searchHandler.FontAttributes = fontAttributes;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontAttributesProperty, fontAttributes);
        return searchHandler;
    }

    public static T FontAttributes<T>(this T searchHandler, Func<Microsoft.Maui.Controls.FontAttributes> fontAttributesFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontAttributesProperty, new PropertyValue<Microsoft.Maui.Controls.FontAttributes>(fontAttributesFunc, componentWithState));
        return searchHandler;
    }

    public static T FontAutoScalingEnabled<T>(this T searchHandler, bool fontAutoScalingEnabled)
        where T : ISearchHandler
    {
        //searchHandler.FontAutoScalingEnabled = fontAutoScalingEnabled;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontAutoScalingEnabledProperty, fontAutoScalingEnabled);
        return searchHandler;
    }

    public static T FontAutoScalingEnabled<T>(this T searchHandler, Func<bool> fontAutoScalingEnabledFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.FontAutoScalingEnabledProperty, new PropertyValue<bool>(fontAutoScalingEnabledFunc, componentWithState));
        return searchHandler;
    }

    public static T Placeholder<T>(this T searchHandler, string placeholder)
        where T : ISearchHandler
    {
        //searchHandler.Placeholder = placeholder;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.PlaceholderProperty, placeholder);
        return searchHandler;
    }

    public static T Placeholder<T>(this T searchHandler, Func<string> placeholderFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.PlaceholderProperty, new PropertyValue<string>(placeholderFunc, componentWithState));
        return searchHandler;
    }

    public static T PlaceholderColor<T>(this T searchHandler, Microsoft.Maui.Graphics.Color placeholderColor)
        where T : ISearchHandler
    {
        //searchHandler.PlaceholderColor = placeholderColor;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.PlaceholderColorProperty, placeholderColor);
        return searchHandler;
    }

    public static T PlaceholderColor<T>(this T searchHandler, Func<Microsoft.Maui.Graphics.Color> placeholderColorFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.PlaceholderColorProperty, new PropertyValue<Microsoft.Maui.Graphics.Color>(placeholderColorFunc, componentWithState));
        return searchHandler;
    }

    public static T TextTransform<T>(this T searchHandler, Microsoft.Maui.TextTransform textTransform)
        where T : ISearchHandler
    {
        //searchHandler.TextTransform = textTransform;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.TextTransformProperty, textTransform);
        return searchHandler;
    }

    public static T TextTransform<T>(this T searchHandler, Func<Microsoft.Maui.TextTransform> textTransformFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.TextTransformProperty, new PropertyValue<Microsoft.Maui.TextTransform>(textTransformFunc, componentWithState));
        return searchHandler;
    }

    public static T BackgroundColor<T>(this T searchHandler, Microsoft.Maui.Graphics.Color backgroundColor)
        where T : ISearchHandler
    {
        //searchHandler.BackgroundColor = backgroundColor;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.BackgroundColorProperty, backgroundColor);
        return searchHandler;
    }

    public static T BackgroundColor<T>(this T searchHandler, Func<Microsoft.Maui.Graphics.Color> backgroundColorFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.BackgroundColorProperty, new PropertyValue<Microsoft.Maui.Graphics.Color>(backgroundColorFunc, componentWithState));
        return searchHandler;
    }

    public static T AutomationId<T>(this T searchHandler, string automationId)
        where T : ISearchHandler
    {
        //searchHandler.AutomationId = automationId;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.AutomationIdProperty, automationId);
        return searchHandler;
    }

    public static T AutomationId<T>(this T searchHandler, Func<string> automationIdFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.AutomationIdProperty, new PropertyValue<string>(automationIdFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearIconHelpText<T>(this T searchHandler, string clearIconHelpText)
        where T : ISearchHandler
    {
        //searchHandler.ClearIconHelpText = clearIconHelpText;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconHelpTextProperty, clearIconHelpText);
        return searchHandler;
    }

    public static T ClearIconHelpText<T>(this T searchHandler, Func<string> clearIconHelpTextFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconHelpTextProperty, new PropertyValue<string>(clearIconHelpTextFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearIconName<T>(this T searchHandler, string clearIconName)
        where T : ISearchHandler
    {
        //searchHandler.ClearIconName = clearIconName;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconNameProperty, clearIconName);
        return searchHandler;
    }

    public static T ClearIconName<T>(this T searchHandler, Func<string> clearIconNameFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconNameProperty, new PropertyValue<string>(clearIconNameFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Microsoft.Maui.Controls.ImageSource clearIcon)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = clearIcon;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, clearIcon);
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Func<Microsoft.Maui.Controls.ImageSource> clearIconFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(clearIconFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, string file)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = Microsoft.Maui.Controls.ImageSource.FromFile(file);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, Microsoft.Maui.Controls.ImageSource.FromFile(file));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Func<string> action)
        where T : ISearchHandler
    {
        /*searchHandler.ClearIcon = new PropertyValue<Microsoft.Maui.Controls.ImageSource>(
            () => Microsoft.Maui.Controls.ImageSource.FromFile(action()));*/
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(() => Microsoft.Maui.Controls.ImageSource.FromFile(action())));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, string resourceName, Assembly sourceAssembly)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Uri imageUri)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = Microsoft.Maui.Controls.ImageSource.FromUri(imageUri);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, Microsoft.Maui.Controls.ImageSource.FromUri(imageUri));
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Uri imageUri, bool cachingEnabled, TimeSpan cacheValidity)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = new Microsoft.Maui.Controls.UriImageSource
        //{
        //    Uri = imageUri,
        //    CachingEnabled = cachingEnabled,
        //    CacheValidity = cacheValidity
        //};
        var newValue = new Microsoft.Maui.Controls.UriImageSource
        {
            Uri = imageUri,
            CachingEnabled = cachingEnabled,
            CacheValidity = cacheValidity
        };
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, newValue);
        return searchHandler;
    }

    public static T ClearIcon<T>(this T searchHandler, Func<Stream> imageStream)
        where T : ISearchHandler
    {
        //searchHandler.ClearIcon = Microsoft.Maui.Controls.ImageSource.FromStream(imageStream);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearIconProperty, Microsoft.Maui.Controls.ImageSource.FromStream(imageStream));
        return searchHandler;
    }

    public static T ClearPlaceholderEnabled<T>(this T searchHandler, bool clearPlaceholderEnabled)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderEnabled = clearPlaceholderEnabled;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderEnabledProperty, clearPlaceholderEnabled);
        return searchHandler;
    }

    public static T ClearPlaceholderEnabled<T>(this T searchHandler, Func<bool> clearPlaceholderEnabledFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderEnabledProperty, new PropertyValue<bool>(clearPlaceholderEnabledFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearPlaceholderHelpText<T>(this T searchHandler, string clearPlaceholderHelpText)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderHelpText = clearPlaceholderHelpText;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderHelpTextProperty, clearPlaceholderHelpText);
        return searchHandler;
    }

    public static T ClearPlaceholderHelpText<T>(this T searchHandler, Func<string> clearPlaceholderHelpTextFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderHelpTextProperty, new PropertyValue<string>(clearPlaceholderHelpTextFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Microsoft.Maui.Controls.ImageSource clearPlaceholderIcon)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = clearPlaceholderIcon;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, clearPlaceholderIcon);
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Func<Microsoft.Maui.Controls.ImageSource> clearPlaceholderIconFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(clearPlaceholderIconFunc, componentWithState));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, string file)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = Microsoft.Maui.Controls.ImageSource.FromFile(file);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, Microsoft.Maui.Controls.ImageSource.FromFile(file));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Func<string> action)
        where T : ISearchHandler
    {
        /*searchHandler.ClearPlaceholderIcon = new PropertyValue<Microsoft.Maui.Controls.ImageSource>(
            () => Microsoft.Maui.Controls.ImageSource.FromFile(action()));*/
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(() => Microsoft.Maui.Controls.ImageSource.FromFile(action())));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, string resourceName, Assembly sourceAssembly)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Uri imageUri)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = Microsoft.Maui.Controls.ImageSource.FromUri(imageUri);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, Microsoft.Maui.Controls.ImageSource.FromUri(imageUri));
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Uri imageUri, bool cachingEnabled, TimeSpan cacheValidity)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = new Microsoft.Maui.Controls.UriImageSource
        //{
        //    Uri = imageUri,
        //    CachingEnabled = cachingEnabled,
        //    CacheValidity = cacheValidity
        //};
        var newValue = new Microsoft.Maui.Controls.UriImageSource
        {
            Uri = imageUri,
            CachingEnabled = cachingEnabled,
            CacheValidity = cacheValidity
        };
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, newValue);
        return searchHandler;
    }

    public static T ClearPlaceholderIcon<T>(this T searchHandler, Func<Stream> imageStream)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderIcon = Microsoft.Maui.Controls.ImageSource.FromStream(imageStream);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderIconProperty, Microsoft.Maui.Controls.ImageSource.FromStream(imageStream));
        return searchHandler;
    }

    public static T ClearPlaceholderName<T>(this T searchHandler, string clearPlaceholderName)
        where T : ISearchHandler
    {
        //searchHandler.ClearPlaceholderName = clearPlaceholderName;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderNameProperty, clearPlaceholderName);
        return searchHandler;
    }

    public static T ClearPlaceholderName<T>(this T searchHandler, Func<string> clearPlaceholderNameFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ClearPlaceholderNameProperty, new PropertyValue<string>(clearPlaceholderNameFunc, componentWithState));
        return searchHandler;
    }

    public static T DisplayMemberName<T>(this T searchHandler, string displayMemberName)
        where T : ISearchHandler
    {
        //searchHandler.DisplayMemberName = displayMemberName;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.DisplayMemberNameProperty, displayMemberName);
        return searchHandler;
    }

    public static T DisplayMemberName<T>(this T searchHandler, Func<string> displayMemberNameFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.DisplayMemberNameProperty, new PropertyValue<string>(displayMemberNameFunc, componentWithState));
        return searchHandler;
    }

    public static T IsSearchEnabled<T>(this T searchHandler, bool isSearchEnabled)
        where T : ISearchHandler
    {
        //searchHandler.IsSearchEnabled = isSearchEnabled;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.IsSearchEnabledProperty, isSearchEnabled);
        return searchHandler;
    }

    public static T IsSearchEnabled<T>(this T searchHandler, Func<bool> isSearchEnabledFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.IsSearchEnabledProperty, new PropertyValue<bool>(isSearchEnabledFunc, componentWithState));
        return searchHandler;
    }

    public static T QueryIconHelpText<T>(this T searchHandler, string queryIconHelpText)
        where T : ISearchHandler
    {
        //searchHandler.QueryIconHelpText = queryIconHelpText;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconHelpTextProperty, queryIconHelpText);
        return searchHandler;
    }

    public static T QueryIconHelpText<T>(this T searchHandler, Func<string> queryIconHelpTextFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconHelpTextProperty, new PropertyValue<string>(queryIconHelpTextFunc, componentWithState));
        return searchHandler;
    }

    public static T QueryIconName<T>(this T searchHandler, string queryIconName)
        where T : ISearchHandler
    {
        //searchHandler.QueryIconName = queryIconName;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconNameProperty, queryIconName);
        return searchHandler;
    }

    public static T QueryIconName<T>(this T searchHandler, Func<string> queryIconNameFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconNameProperty, new PropertyValue<string>(queryIconNameFunc, componentWithState));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Microsoft.Maui.Controls.ImageSource queryIcon)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = queryIcon;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, queryIcon);
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Func<Microsoft.Maui.Controls.ImageSource> queryIconFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(queryIconFunc, componentWithState));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, string file)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = Microsoft.Maui.Controls.ImageSource.FromFile(file);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, Microsoft.Maui.Controls.ImageSource.FromFile(file));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Func<string> action)
        where T : ISearchHandler
    {
        /*searchHandler.QueryIcon = new PropertyValue<Microsoft.Maui.Controls.ImageSource>(
            () => Microsoft.Maui.Controls.ImageSource.FromFile(action()));*/
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, new PropertyValue<Microsoft.Maui.Controls.ImageSource>(() => Microsoft.Maui.Controls.ImageSource.FromFile(action())));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, string resourceName, Assembly sourceAssembly)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, Microsoft.Maui.Controls.ImageSource.FromResource(resourceName, sourceAssembly));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Uri imageUri)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = Microsoft.Maui.Controls.ImageSource.FromUri(imageUri);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, Microsoft.Maui.Controls.ImageSource.FromUri(imageUri));
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Uri imageUri, bool cachingEnabled, TimeSpan cacheValidity)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = new Microsoft.Maui.Controls.UriImageSource
        //{
        //    Uri = imageUri,
        //    CachingEnabled = cachingEnabled,
        //    CacheValidity = cacheValidity
        //};
        var newValue = new Microsoft.Maui.Controls.UriImageSource
        {
            Uri = imageUri,
            CachingEnabled = cachingEnabled,
            CacheValidity = cacheValidity
        };
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, newValue);
        return searchHandler;
    }

    public static T QueryIcon<T>(this T searchHandler, Func<Stream> imageStream)
        where T : ISearchHandler
    {
        //searchHandler.QueryIcon = Microsoft.Maui.Controls.ImageSource.FromStream(imageStream);
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryIconProperty, Microsoft.Maui.Controls.ImageSource.FromStream(imageStream));
        return searchHandler;
    }

    public static T Query<T>(this T searchHandler, string query)
        where T : ISearchHandler
    {
        //searchHandler.Query = query;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryProperty, query);
        return searchHandler;
    }

    public static T Query<T>(this T searchHandler, Func<string> queryFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.QueryProperty, new PropertyValue<string>(queryFunc, componentWithState));
        return searchHandler;
    }

    public static T SearchBoxVisibility<T>(this T searchHandler, Microsoft.Maui.Controls.SearchBoxVisibility searchBoxVisibility)
        where T : ISearchHandler
    {
        //searchHandler.SearchBoxVisibility = searchBoxVisibility;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.SearchBoxVisibilityProperty, searchBoxVisibility);
        return searchHandler;
    }

    public static T SearchBoxVisibility<T>(this T searchHandler, Func<Microsoft.Maui.Controls.SearchBoxVisibility> searchBoxVisibilityFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.SearchBoxVisibilityProperty, new PropertyValue<Microsoft.Maui.Controls.SearchBoxVisibility>(searchBoxVisibilityFunc, componentWithState));
        return searchHandler;
    }

    public static T ShowsResults<T>(this T searchHandler, bool showsResults)
        where T : ISearchHandler
    {
        //searchHandler.ShowsResults = showsResults;
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ShowsResultsProperty, showsResults);
        return searchHandler;
    }

    public static T ShowsResults<T>(this T searchHandler, Func<bool> showsResultsFunc, IComponentWithState? componentWithState = null)
        where T : ISearchHandler
    {
        searchHandler.SetProperty(Microsoft.Maui.Controls.SearchHandler.ShowsResultsProperty, new PropertyValue<bool>(showsResultsFunc, componentWithState));
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Action? focusedAction)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new SyncEventCommand<EventArgs>(execute: focusedAction);
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Action<EventArgs>? focusedAction)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new SyncEventCommand<EventArgs>(executeWithArgs: focusedAction);
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Action<object?, EventArgs>? focusedAction)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new SyncEventCommand<EventArgs>(executeWithFullArgs: focusedAction);
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Func<Task>? focusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new AsyncEventCommand<EventArgs>(execute: focusedAction, runInBackground);
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Func<EventArgs, Task>? focusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new AsyncEventCommand<EventArgs>(executeWithArgs: focusedAction, runInBackground);
        return searchHandler;
    }

    public static T OnFocused<T>(this T searchHandler, Func<object?, EventArgs, Task>? focusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.FocusedEvent = new AsyncEventCommand<EventArgs>(executeWithFullArgs: focusedAction, runInBackground);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Action? unfocusedAction)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new SyncEventCommand<EventArgs>(execute: unfocusedAction);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Action<EventArgs>? unfocusedAction)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new SyncEventCommand<EventArgs>(executeWithArgs: unfocusedAction);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Action<object?, EventArgs>? unfocusedAction)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new SyncEventCommand<EventArgs>(executeWithFullArgs: unfocusedAction);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Func<Task>? unfocusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new AsyncEventCommand<EventArgs>(execute: unfocusedAction, runInBackground);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Func<EventArgs, Task>? unfocusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new AsyncEventCommand<EventArgs>(executeWithArgs: unfocusedAction, runInBackground);
        return searchHandler;
    }

    public static T OnUnfocused<T>(this T searchHandler, Func<object?, EventArgs, Task>? unfocusedAction, bool runInBackground = false)
        where T : ISearchHandler
    {
        searchHandler.UnfocusedEvent = new AsyncEventCommand<EventArgs>(executeWithFullArgs: unfocusedAction, runInBackground);
        return searchHandler;
    }
}

public static partial class SearchHandlerStyles
{
    public static Action<ISearchHandler>? Default { get; set; }
    public static Dictionary<string, Action<ISearchHandler>> Themes { get; } = [];
}